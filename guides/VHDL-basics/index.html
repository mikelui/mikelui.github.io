<!DOCTYPE html>

<html>

  <head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>
    VHDL Student Primer - No TV and No Beer
    
  </title>

  <meta name="description" content="Hi.">

  <link href="https://fonts.googleapis.com/css?family=Crimson+Text:400,400i,700|Open+Sans:300,700,800" rel="stylesheet"> 

  <link rel="stylesheet" href="/assets/vendor/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="/assets/vendor/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/assets/css/main.css">

  <link rel="canonical" href="http://mikelui.io/guides/VHDL-basics/">
  <link rel="alternate" type="application/rss+xml" title="No TV and No Beer" href="/feed.xml">

  <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>VHDL Student Primer | No TV and No Beer</title>
<meta name="generator" content="Jekyll v3.6.2" />
<meta property="og:title" content="VHDL Student Primer" />
<meta name="author" content="Mike Lui" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Hi." />
<meta property="og:description" content="Hi." />
<link rel="canonical" href="http://mikelui.io/guides/VHDL-basics/" />
<meta property="og:url" content="http://mikelui.io/guides/VHDL-basics/" />
<meta property="og:site_name" content="No TV and No Beer" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-07-06T20:00:00-04:00" />
<script type="application/ld+json">
{"headline":"VHDL Student Primer","description":"Hi.","datePublished":"2018-07-06T20:00:00-04:00","dateModified":"2018-07-06T20:00:00-04:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://mikelui.io/guides/VHDL-basics/"},"@type":"BlogPosting","url":"http://mikelui.io/guides/VHDL-basics/","author":{"@type":"Person","name":"Mike Lui"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>


  <body>

  
    <!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top text-light" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="/">No TV and No Beer</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu
      <i class="fa fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="/about">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/posts">Posts</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/guides">Guides</a>
        </li>
        <!--
        <li class="nav-item">
          <a class="nav-link" href="/contact">Contact</a>
        </li>
        -->
      </ul>
    </div>
  </div>
</nav>

  

    <!-- Page Header -->

<header class="masthead" style="background-image: url('/img/The-Simpsons-Season-23-Episode-11-25-6c0b.jpg')">
  <div class="overlay"></div>

  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <div class="post-heading">
          <h1>VHDL Student Primer</h1>
          
          <h2 class="subheading">Important Concepts</h2>
          
          
          <span class="meta">Posted by
              <a href="#">Mike Lui</a>
            on July 07, 2018</span>
        </div>
      </div>
    </div>
  </div>
</header>

<div class="container post">
  <div class="row">
    <div class="col-lg-8 col-md-10 mx-auto">

      <p class="lead">Hi.</p>

<p class="lead">So you‚Äôre now taking the <strong>Digital Logic</strong> class<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup>.
If you‚Äôre less familiar with computer science and engineering, you might think to yourself,
<em>‚Äúgreat, I‚Äôll be doing some</em> <code class="highlighter-rouge">beep boop bop</code> ü§ñ <em>binary things this term‚Äù</em>.
You‚Äôd be right.
In class, you‚Äôll learn boolean logic theory.
In labs, you‚Äôll see how that theory can be used to make something more concrete with VHDL.
This primer assumes you‚Äôre familiar with boolean algebra using basic AND, OR, and NOT gates.</p>

<h1 id="what-is-vhdl">What is VHDL?</h1>

<p>VHDL is a programming language to describe circuits.
It literally stands for: <strong>V</strong>HSIC (yes another acronym‚Äìdon‚Äôt sweat it) <strong>Hardware Description Language</strong>.
VHDL targets digital circuits in contrast to analog circuits.
<em>Digital</em> circuits consider discrete logical properties like 1‚Äôs and 0‚Äôs, Yes‚Äôs and No‚Äôs.
<em>Analog</em> circuits consider continuous electrical properties like voltage, impedance, capacitance, et al.
This is a generalization but will hold true as far as an introductory course is concerned.</p>

<p>Here‚Äôs a taste of VHDL:</p>

<div class="language-vhdl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ENTITY</span> <span class="n">inverter</span> <span class="k">IS</span>
    <span class="k">PORT</span> <span class="p">(</span> <span class="n">in1</span> <span class="p">:</span> <span class="k">IN</span> <span class="kt">BIT</span><span class="p">;</span> <span class="n">out1</span> <span class="p">:</span> <span class="k">OUT</span> <span class="kt">BIT</span> <span class="p">);</span>
<span class="k">END</span> <span class="n">inverter</span><span class="p">;</span>

<span class="k">ARCHITECTURE</span> <span class="n">df</span> <span class="k">OF</span> <span class="n">inverter</span> <span class="k">IS</span>
<span class="k">BEGIN</span>
    <span class="n">out1</span> <span class="o">&lt;=</span> <span class="ow">NOT</span> <span class="n">in1</span><span class="p">;</span>
<span class="k">END</span> <span class="n">df</span><span class="p">;</span>
</code></pre></div></div>

<div class="alert alert-info" role="alert">
  <i class="fa fa-info-circle"></i> <b>Note:</b> 
<code class="highlighter-rouge">&lt;=</code> is an assignment operator in VHDL. It is <em>not</em> <code class="highlighter-rouge">less than or equal to</code> like in some other languages.

</div>

<p>Although the syntax is a bit clunky, you can see how we‚Äôre just defining an inverter; a <code class="highlighter-rouge">NOT</code> gate.
First, we declare the inputs and outputs of our circuit block.
Then, we describe how the input is transformed into the output.
We‚Äôre describing the following equation:</p>

<script type="math/tex; mode=display">\begin{align}
out_1 = inverter(in_1) = {in_1}\prime
\end{align}</script>

<p><em>Amaaahzing</em> right? Later on we‚Äôll go into more details on the syntax.</p>

<hr />

<h1 id="why-is-vhdl">Why is VHDL?</h1>

<p>Why would we want to model digital circuits?
It‚Äôs easier to understand, modify, simulate, and test our designs by modeling our circuits in VHDL.
VHDL (or any HDL) provides a common language that can be used at each of these stages, leading up to 
the final <a href="https://en.wikipedia.org/wiki/Logic_synthesis">logic synthesis</a> and <a href="https://en.wikipedia.org/wiki/Placement_(EDA)">layout</a> steps, required to continue towards physical manufacture the design.
During the digital logic design phase, VHDL allows us to treat circuit components as black boxes
so we can build up more complex and powerful circuit designs.</p>

<hr />

<h1 id="how-is-vhdl">How is VHDL?</h1>

<p>Many of you will have been exposed to a programming language at this point.
VHDL and other HDLs can be thought of as a programming language for digital circuits:</p>

<table class="table table-hover">
  <thead>
    <tr>
      <th style="text-align: left">HDLs</th>
      <th style="text-align: left">Traditional Programming Languages</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">VHDL, Verilog, SystemC, Bluespec</td>
      <td style="text-align: left">Python, Matlab, C, Javascript, R, Racket</td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <td style="text-align: left">Describes computation as a combination of digital circuits</td>
      <td style="text-align: left">Describes computation a set of steps for the computer to execute (<em>imperative</em> programming)</td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <td style="text-align: left">Building blocks from boolean algebra</td>
      <td style="text-align: left">Building blocks from arithmetic</td>
    </tr>
  </tbody>
</table>

<div class="bs-callout bs-callout-primary">

  <h4 id="ordering-in-vhdl">Ordering in VHDL</h4>
  <p>Before we move on, let‚Äôs distinguish one more difference between VHDL
and imperative programming languages, which you have probably seen in the past.
Imperative programming languages are based on the idea of <em>sequential</em> statements.
In other words, steps are executed one after the other in the order they appear.
For example, we can assign a value in one step and read it back in consecutive steps.</p>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># pseudo-code</span>
<span class="n">a</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">b</span>  <span class="c"># b == 6</span>
</code></pre></div>  </div>

  <p>In VHDL, we model circuits, so data just propagates through <em>signals</em> (usually we can think of them as just wires).</p>

  <div class="language-vhdl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ENTITY</span> <span class="n">pass_through</span> <span class="k">IS</span>
    <span class="k">PORT</span> <span class="p">(</span> <span class="n">a</span>    <span class="p">:</span> <span class="k">IN</span> <span class="kt">BIT</span><span class="p">;</span> 
           <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="p">:</span> <span class="k">OUT</span> <span class="kt">BIT</span><span class="p">);</span>
<span class="k">END</span> <span class="n">pass_through</span><span class="p">;</span>

<span class="k">ARCHITECTURE</span> <span class="n">df</span> <span class="k">OF</span> <span class="n">pass_through</span> <span class="k">IS</span>
    <span class="k">SIGNAL</span> <span class="n">between</span> <span class="p">:</span> <span class="kt">BIT</span><span class="p">;</span>
<span class="k">BEGIN</span>
    <span class="c1">-- b and between are set</span>
    <span class="c1">-- at the same time!</span>
    <span class="n">b</span> <span class="o">&lt;=</span> <span class="n">between</span><span class="p">;</span>
    <span class="n">between</span> <span class="o">&lt;=</span> <span class="n">a</span><span class="p">;</span>
    <span class="n">c</span> <span class="o">&lt;=</span> <span class="n">between</span>
<span class="k">END</span> <span class="n">df</span><span class="p">;</span>
</code></pre></div>  </div>

  <p>If we read the above example like a sequential program,
it looks like <code class="highlighter-rouge">between</code> is being assigned to <code class="highlighter-rouge">b</code> before <code class="highlighter-rouge">between</code> has any value!
We don‚Äôt set <code class="highlighter-rouge">between</code> until the next line.
However, when we go to run the circuit, we‚Äôll see <code class="highlighter-rouge">b</code> and <code class="highlighter-rouge">c</code> will have the same value at the same time.
This is because we‚Äôre just connecting <em>signals</em> together, and the value of <code class="highlighter-rouge">a</code> is just passing through
our circuit to the other signals.
In digital logic terms, this is called a <em>fan-out</em>.</p>

  <p><img src="/img/posts/fanout2.png" alt="fanout" width="100%" /></p>

  <p>When we simulate this circuit all of our 1‚Äôs and 0‚Äôs flow through the circuit in a real-time(ish) way.</p>

  <div class="alert alert-info" role="alert">
  <i class="fa fa-info-circle"></i> <b>Note:</b> 
This does not mean that sequential statements aren‚Äôt possible in VHDL!
In fact, they are <em>necessary</em> to build up any computation that depends on a past value. 
Eventually, we‚Äôll learn how to model sequential statements in VHDL.

</div>

</div>

<p>We‚Äôll explain how to <em>use</em> VHDL with a short example.</p>

<h2 id="designing-a-thing">Designing a Thing</h2>
<h3 id="step-1-understand-the-problem">Step 1. Understand the Problem</h3>

<p>We‚Äôll make a basic selector circuit that selects between <strong>one</strong> of <strong>two</strong> signals.
You may have learned about this circuit already, called a (2x1) <em>mux</em>.</p>

<p>When the selector is <em>off</em>, the <em>zeroth</em> signal is selected.<br />
When the selector is <em>on</em>, the <em>first</em> signal is selected.</p>

<p>Easy-peasy.</p>

<h3 id="step-2-generate-an-equation">Step 2. Generate an Equation</h3>

<p>Above, we‚Äôve declaratively described a simple mux with text.
It will be easier to implement the mux in VHDL from a formal equation, so that we can map
the operations in the equation (<em>AND</em>, <em>OR</em>, <em>NOT</em>, et al) to basic gates in VHDL.</p>

<p>Eventually, you‚Äôll be able to generate the equation directly from intuition.
For now, let‚Äôs go through the process of making a truth table for all possible input combinations:</p>

<table class="table table-sm table-bordered w-75 mx-auto text-center">
  <thead>
    <tr>
      <th><script type="math/tex">select</script></th>
      <th><script type="math/tex">s_0</script> <br /> (zeroth signal)</th>
      <th><script type="math/tex">s_1</script> <br /> (first signal)</th>
      <th><script type="math/tex">output</script></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
  </tbody>
</table>

<p>We‚Äôll be verbose while simplifying our equation, for demonstrative purposes.
If you‚Äôre able to jump right to the final equation, that‚Äôs great!</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{align}
output &= (select \cdot s_0\prime \cdot s_1) + (select \cdot s_0 \cdot s_1) \nonumber\\
&\phantom{{}1} + (select\prime \cdot s_0 \cdot s_1\prime) + (select\prime \cdot s_0 \cdot s_1) \\
\nonumber\\
& = select \cdot ((s_0\prime \cdot s_1) + (s_0 \cdot s_1)) \nonumber\\
&\phantom{{}1} + select\prime \cdot ((s_0 \cdot s_1\prime) + (s_0 \cdot s_1)) \\
\nonumber\\
& = select \cdot (s_0\prime \cdot s_0 + s_1 \cdot s_0 + s_0\prime \cdot s_1 + s_1 \cdot s_1) \nonumber\\
&\phantom{{}1} + select\prime \cdot (s_0 \cdot s_0 + s_1\prime \cdot s_0 + s_0 \cdot s_1 + s_1\prime \cdot s1) \\
\nonumber\\
& = select \cdot (0 + s_1 \cdot (s_0\prime + s_0 + s_1)) \nonumber\\
&\phantom{{}1} + select\prime \cdot (s_0 \cdot (s_0 + s_1\prime + s_1) + 0) \\
\nonumber\\
& = select \cdot (0 + s_1 \cdot (1)) \nonumber\\
&\phantom{{}1} + select\prime \cdot (s_0 \cdot (1) + 0 ) \\
\nonumber\\
& = (select \cdot s_1) + (select\prime \cdot s_0)
\label{mux:final}
\end{align} %]]></script>

<p>If we analyze the textual description, we can see how we‚Äôd intuitively generate our equation.
When <script type="math/tex">select</script> is 0 (off), our <script type="math/tex">output</script> will be 0 if <script type="math/tex">s_0</script> is 0, and 1 if <script type="math/tex">s_0</script> is 1.
The same can be said for <script type="math/tex">s_1</script> when <script type="math/tex">select</script> is 1 (on).
If it‚Äôs not clear how that leads to equation \eqref{mux:final}, don‚Äôt sweat it.</p>

<div class="alert alert-warning" role="alert">
  <i class="fa fa-exclamation-circle"></i> <b>Warning:</b> 
Starting with <strong>zero</strong> instead of <strong>one</strong> is common in computer science and digital logic, mostly because it
simplifies certain computations.
It‚Äôs easy for this to get confusing or annoying when starting off,
especially because the <em>zeroth</em> element (as written above) will sometimes be referred to as the <em>first</em> element ü§¨.
There‚Äôs no agreed upon way to refer to the‚Ä¶<em>first</em>? <em>zeroth</em>? index of a sequence, so both are acceptable terms.
<br /><br />
In either case, make sure to check the actual indices (such as <em>0</em> or <em>1</em>) and use common sense when implementing a circuit.

</div>

<h3 id="step-3-sketch-out-a-schematic">Step 3. Sketch out a Schematic</h3>

<p>Sketching a <em>schematic</em> of our equation will help when translating our equation (read: circuit) into VHDL.
It helps us identify all the pieces we‚Äôll need to use in our VHDL code, e.g. inputs, outputs, intermediate signals,
boolean gates, et al.
A drawn schematic is not always required, but can help when we‚Äôre feeling lost and need to organize the problem.</p>

<p><img src="/img/posts/mux2x1.png" alt="mux" width="100%" /></p>

<p>We‚Äôve made a‚Ä¶box (helpfully color coded)!</p>
<ul>
  <li>First, we labeled all our <span class="text-red"><em>inputs</em></span> and <span class="text-red"><em>outputs</em></span>.
That might seem obvious, but it‚Äôs important to establish the <em>interface</em> to our box.</li>
  <li>Second, we filled in our other <span class="text-blue"><em>components</em></span>.
Sometimes our components will be other complex circuits that have <em>inputs</em> and <em>outputs</em>.
In this circuit, our components are basic gates‚ÄìNOT, AND, and OR.</li>
  <li>Last, we made sure everything had a name.
That includes all the ‚Äú<span class="text-green">wires</span>‚Äù, or <span class="text-green"><em>signals</em></span>, in our design.
If we had more complex components other than NOT, AND, and OR, then we would make sure that those were named, too.
(We‚Äôll see an example of that later on.)
If a <span class="text-green">signal</span> is directly connected to an <span class="text-red">input</span>
or <span class="text-red">output</span> we can just use the name of that input or output.
Some of our signals just exist between our gates, so we give those names (<em>sel_not</em>, <em>temp0</em>, <em>temp1</em>).</li>
</ul>

<p>Great! Now we can code up our circuit!</p>

<h3 id="step-4-implement-it-in-vhdl">Step 4. Implement it in VHDL</h3>

<p>We just have to map our schematic to our code:</p>

<div class="code-title">mux_2x1.vhd</div>

<figure class="highlight"><pre><code class="language-vhdl" data-lang="vhdl"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="code"><pre><span class="c1">-- Comments start with '--'</span>
<span class="c1">-- Inputs and Outputs</span>
<span class="k">ENTITY</span> <span class="n">mux_2x1</span> <span class="k">IS</span>
    <span class="k">PORT</span> <span class="p">(</span> <span class="n">sel</span> <span class="p">:</span> <span class="k">IN</span> <span class="kt">BIT</span><span class="p">;</span>
           <span class="n">s0</span>  <span class="p">:</span> <span class="k">IN</span> <span class="kt">BIT</span><span class="p">;</span>
           <span class="n">s1</span>  <span class="p">:</span> <span class="k">IN</span> <span class="kt">BIT</span><span class="p">;</span>
           <span class="n">output</span> <span class="p">:</span> <span class="k">OUT</span> <span class="kt">BIT</span>
         <span class="p">);</span>
<span class="k">END</span> <span class="n">mux_2x1</span><span class="p">;</span>

<span class="k">ARCHITECTURE</span> <span class="n">df</span> <span class="k">OF</span> <span class="n">mux_2x1</span> <span class="k">IS</span>
    <span class="k">SIGNAL</span> <span class="n">sel_not</span><span class="p">,</span> <span class="n">temp0</span><span class="p">,</span> <span class="n">temp1</span> <span class="p">:</span> <span class="kt">BIT</span><span class="p">;</span>
<span class="k">BEGIN</span>
    <span class="n">sel_not</span> <span class="o">&lt;=</span> <span class="ow">NOT</span> <span class="n">sel</span><span class="p">;</span>
    <span class="n">temp0</span> <span class="o">&lt;=</span> <span class="n">sel_not</span> <span class="ow">AND</span> <span class="n">s0</span><span class="p">;</span>
    <span class="n">temp1</span> <span class="o">&lt;=</span> <span class="n">sel</span> <span class="ow">AND</span> <span class="n">s1</span><span class="p">;</span>
    <span class="n">output</span> <span class="o">&lt;=</span> <span class="n">temp0</span> <span class="ow">OR</span> <span class="n">temp1</span><span class="p">;</span>
<span class="k">END</span> <span class="n">df</span><span class="p">;</span></pre></td></tr></tbody></table></code></pre></figure>

<p>Let‚Äôs unpack this one piece at a time.</p>

<div class="card ml-collapse-card">
  <div class="card-header" id="a-290b5ce7-4550-430b-a2ac-09a047f8a028-heading-1">
    <h4 class="mb-0">
      <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#a-290b5ce7-4550-430b-a2ac-09a047f8a028-collapse-1" aria-expanded="false" aria-controls="a-290b5ce7-4550-430b-a2ac-09a047f8a028-collapse-1">
        <span class="plus-minus-wrapper"><div class="plus-minus"></div></span><span class="collapse-title">Keywords, Identifiers, and Operators</span>
      </button>
    </h4>
  </div>
  <div id="a-290b5ce7-4550-430b-a2ac-09a047f8a028-collapse-1" class="collapse" aria-labelledby="a-290b5ce7-4550-430b-a2ac-09a047f8a028-heading-1" data-parent="#a-290b5ce7-4550-430b-a2ac-09a047f8a028">
    <div class="card-body">
<p>In the above example, the highlighted code differentiates between:</p>
<ul>
  <li><em>keywords</em> like <code class="highlighter-rouge">ENTITY</code>, <code class="highlighter-rouge">ARCHITECTURE</code>, and <code class="highlighter-rouge">BEGIN</code> which denote the <strong>structure</strong> of our code.</li>
  <li><em>identifiers</em> like <code class="highlighter-rouge">s1</code>, <code class="highlighter-rouge">a</code>, <code class="highlighter-rouge">mux_2x1</code>, and <code class="highlighter-rouge">df</code>, which are just <strong>names</strong> we‚Äôve chosen for different parts of our design.</li>
  <li><em>operators</em> like <code class="highlighter-rouge">&lt;=</code>, <code class="highlighter-rouge">AND</code>, et al, which can <strong>create and set values</strong> referenced by identifiers.</li>
</ul>

<div class="alert alert-info" role="alert">
    <i class="fa fa-info-circle"></i> <b>Note:</b>
    VHDL is case-insensitive.
That means it doesn‚Äôt matter if you capitalize letters or not: <code class="highlighter-rouge">mux_2x1</code>, <code class="highlighter-rouge">MUX_2X1</code>, <code class="highlighter-rouge">mUX_2x1</code>, etc all refer to the same identifier.
In the examples shown, I made keywords ALL-CAPS and identifiers lower-case, to differentiate them.
In your code, you can choose whichever you‚Äôre comfortable with.
Just remember to stay consistent.
</div>

</div>
  </div>
</div>

<div class="card ml-collapse-card">
  <div class="card-header" id="a-ecba9f5e-13a0-45f9-844d-a1282c2c754c-heading-2">
    <h4 class="mb-0">
      <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#a-ecba9f5e-13a0-45f9-844d-a1282c2c754c-collapse-2" aria-expanded="false" aria-controls="a-ecba9f5e-13a0-45f9-844d-a1282c2c754c-collapse-2">
        <span class="plus-minus-wrapper"><div class="plus-minus"></div></span><span class="collapse-title">Modules</span>
      </button>
    </h4>
  </div>
  <div id="a-ecba9f5e-13a0-45f9-844d-a1282c2c754c-collapse-2" class="collapse" aria-labelledby="a-ecba9f5e-13a0-45f9-844d-a1282c2c754c-heading-2" data-parent="#a-ecba9f5e-13a0-45f9-844d-a1282c2c754c">
    <div class="card-body">
<p>We‚Äôve created a <em>design entity</em> (commonly referred to as a <em>module</em>).<br />
<code class="highlighter-rouge">3.1</code> in the IEEE Standard VHDL Language Reference Manual:</p>
<blockquote>
  <p>The design entity is the primary hardware abstraction in VHDL.
It represents a portion of a hardware design that has well-defined
inputs and outputs and performs a well-defined function.
A  design entity may represent an entire system, a subsystem, a board,
a chip, a macro-cell, a logic gate, or any level of abstraction in-between.</p>
</blockquote>

<p>To reduce confusion with the <code class="highlighter-rouge">ENTITY</code> keyword, we‚Äôll call this a <em>module</em> from now on.
Basically, a module is a full description of a thing. 
It describes:</p>
<ul>
  <li>The <code class="highlighter-rouge">ENTITY</code> ‚Äì the inputs and outputs; our interface to our mux.</li>
  <li>The <code class="highlighter-rouge">ARCHITECTURE</code> ‚Äì the insides of our circuit; what happens to the inputs to create the output</li>
</ul>

<div class="alert alert-info" role="alert">
    <i class="fa fa-info-circle"></i> <b>Note:</b>
    A module <strong>is not</strong> just a VHDL file.
A module (the <code class="highlighter-rouge">ENTITY</code> and <code class="highlighter-rouge">ARCHITECTURE</code>) could be spread across one or more files.
Conversely, a single file might have multiple modules.
</div>

</div>
  </div>
</div>

<div class="card ml-collapse-card">
  <div class="card-header" id="a-2a4b6fab-55a2-46ce-a199-414bfcf26304-heading-3">
    <h4 class="mb-0">
      <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#a-2a4b6fab-55a2-46ce-a199-414bfcf26304-collapse-3" aria-expanded="false" aria-controls="a-2a4b6fab-55a2-46ce-a199-414bfcf26304-collapse-3">
        <span class="plus-minus-wrapper"><div class="plus-minus"></div></span><span class="collapse-title">Signals</span>
      </button>
    </h4>
  </div>
  <div id="a-2a4b6fab-55a2-46ce-a199-414bfcf26304-collapse-3" class="collapse" aria-labelledby="a-2a4b6fab-55a2-46ce-a199-414bfcf26304-heading-3" data-parent="#a-2a4b6fab-55a2-46ce-a199-414bfcf26304">
    <div class="card-body">
<p>Signals are the basic <em>data values</em> in VHDL.
We <strong>don‚Äôt</strong> use the term <em>variable</em> because it is reserved for sequential processes which won‚Äôt be covered in this guide.</p>

<p>Because we‚Äôre modeling digital circuits, signals can be thought of as the wires connecting
components together. On <code class="highlighter-rouge">line 12</code> of our mux, we declare the existence of our three extra signals.
These are the ‚Äúinternal‚Äù wires in our schematic.
We also have to give them a <em>type</em>, of <code class="highlighter-rouge">BIT</code>.
This is important so that we know they‚Äôre compatible with our inputs and outputs, which are also type <code class="highlighter-rouge">BIT</code>.</p>

<p>We assign signals with the <code class="highlighter-rouge">&lt;=</code> operator. This also informs us of the <em>direction</em> of our data.
For example, <code class="highlighter-rouge">s1 &lt;= s2</code> means data is being read in from <code class="highlighter-rouge">s2</code> and written out to <code class="highlighter-rouge">s2</code>.</p>
</div>
  </div>
</div>

<div class="card ml-collapse-card">
  <div class="card-header" id="a-116700e0-385c-485b-912a-8c47bf9e2a5f-heading-4">
    <h4 class="mb-0">
      <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#a-116700e0-385c-485b-912a-8c47bf9e2a5f-collapse-4" aria-expanded="false" aria-controls="a-116700e0-385c-485b-912a-8c47bf9e2a5f-collapse-4">
        <span class="plus-minus-wrapper"><div class="plus-minus"></div></span><span class="collapse-title">Inputs and Outputs</span>
      </button>
    </h4>
  </div>
  <div id="a-116700e0-385c-485b-912a-8c47bf9e2a5f-collapse-4" class="collapse" aria-labelledby="a-116700e0-385c-485b-912a-8c47bf9e2a5f-heading-4" data-parent="#a-116700e0-385c-485b-912a-8c47bf9e2a5f">
    <div class="card-body">
<p>The <code class="highlighter-rouge">ENTITY</code> describes the interface to our <em>thing</em>.
The <em>inputs and outputs</em>, the wires we can <em>set</em> and <em>read</em> from, is described in the <code class="highlighter-rouge">ENTITY</code>.</p>
<ul>
  <li>Inputs can only be read and cannot be assigned: <code class="highlighter-rouge">input &lt;= a_signal</code> will cause an error.</li>
  <li>Outputs can only be assigned and cannot be read: <code class="highlighter-rouge">a_signal &lt;= output</code> will also cause an error.</li>
</ul>

<p>These are referred to as <em>ports</em>.
If we‚Äôre designing something that takes inputs from the outside world, does something with them,
and then delivers the outputs back to the outside world, then we need to declare ports in our <code class="highlighter-rouge">ENTITY</code>:</p>

<div class="language-vhdl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ENTITY</span> <span class="n">another_thing</span> <span class="k">IS</span>
   <span class="k">PORT</span> <span class="p">(</span> <span class="n">from_the_outside_world</span>    <span class="p">:</span> <span class="k">IN</span> <span class="kt">BIT</span><span class="p">;</span>
          <span class="n">back_to_the_outside_world</span> <span class="p">:</span> <span class="k">OUT</span> <span class="kt">BIT</span> <span class="p">);</span>
<span class="k">END</span> <span class="n">another_thing</span><span class="p">;</span>
</code></pre></div></div>

<p>You can see that each port is given 1) a name, 2) a direction, and 3) a type.
For example: <code class="highlighter-rouge">a : IN BIT;</code> is named <em>a</em>, is an <em>input</em> from the outside world, and is a single <em>bit</em>.
Ports need a direction because it makes it easier for someone to understand how the circuit is supposed to work
and acts as a check that we aren‚Äôt connecting different circuits incorrectly.
Because ports are technically signals, too,
we can reuse their names in our <code class="highlighter-rouge">ARCHITECTURE</code> when reading their values in or writing their values out.</p>

</div>
  </div>
</div>

<div class="card ml-collapse-card">
  <div class="card-header" id="a-7556f630-7b04-423f-8f96-834da2904a96-heading-5">
    <h4 class="mb-0">
      <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#a-7556f630-7b04-423f-8f96-834da2904a96-collapse-5" aria-expanded="false" aria-controls="a-7556f630-7b04-423f-8f96-834da2904a96-collapse-5">
        <span class="plus-minus-wrapper"><div class="plus-minus"></div></span><span class="collapse-title">Architecture</span>
      </button>
    </h4>
  </div>
  <div id="a-7556f630-7b04-423f-8f96-834da2904a96-collapse-5" class="collapse" aria-labelledby="a-7556f630-7b04-423f-8f96-834da2904a96-heading-5" data-parent="#a-7556f630-7b04-423f-8f96-834da2904a96">
    <div class="card-body">
<p>The <code class="highlighter-rouge">ARCHITECTURE</code> structure describes what goes on inside our schematic.
On <code class="highlighter-rouge">line 11</code> we start by giving our architecture a name: <code class="highlighter-rouge">df</code>, and declaring that this is the architecture <code class="highlighter-rouge">OF mux_2x1</code>.
On <code class="highlighter-rouge">line 18</code>, we <code class="highlighter-rouge">END</code> our architecture with the same name, similar to our we structured our entity syntax.</p>

<h5 id="naming">Naming</h5>
<p>The name <code class="highlighter-rouge">df</code> is shorthand for <em>dataflow</em>.
Dataflow is the name of the <em>style</em> used.
In the coming weeks, we‚Äôll also discuss <em>behavioral (behav)</em> and <em>structural (struct)</em> styles.
We could have named our architecture <code class="highlighter-rouge">GooGooGaGa</code> if we wanted to, but it‚Äôs clearer to choose names based on the architecture style.
There can be overlap between styles, and there‚Äôs not always a clean distinction, so use your best judgement when naming.</p>

<p>In dataflow styles, the architecture is just a set of signal assignments and equations.
We are just describing how data <em>flows</em>.
Once you see examples of behavioral and structural styles, the distinction will be more clear.</p>

<h5 id="declarations-and-statements">Declarations and Statements</h5>
<p>Any extra signal or component <em>declarations</em> will go between the <code class="highlighter-rouge">ARCHITECTURE _ OF _ IS</code> and <code class="highlighter-rouge">BEGIN</code> lines, which is <code class="highlighter-rouge">line 12</code> in our example.
We need to declare signals, so that we give them 1) a type, e.g. <code class="highlighter-rouge">BIT</code>, and 2) a name for us to use later.
We need to declare components because‚Ä¶well <a href="#bonus-components">you can check out the next section for that</a>.
After the <code class="highlighter-rouge">BEGIN</code>, we can put our <em>statements</em>. Statements are essentially lines which assign values to signals.
They are how we make our circuit‚Ä¶well‚Ä¶<em>work</em>.</p>

<p>So to wrap up declarations go between <code class="highlighter-rouge">ARCHITECTURE</code> and <code class="highlighter-rouge">BEGIN</code>, and all the statements that do stuff go between <code class="highlighter-rouge">BEGIN</code> and <code class="highlighter-rouge">END</code>.</p>
</div>
  </div>
</div>

<div class="card ml-collapse-card">
  <div class="card-header" id="bonus-components">
    <h4 class="mb-0">
      <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#bonus-components-collapse" aria-expanded="false" aria-controls="bonus-components-collapse">
        <span class="plus-minus-wrapper"><div class="plus-minus"></div></span><span class="collapse-title">BONUS: Components</span>
      </button>
    </h4>
  </div>
  <div id="bonus-components-collapse" class="collapse" aria-labelledby="bonus-components" data-parent="#a-2470113a-87a1-42ca-9ac7-7162ab9f116e">
    <div class="card-body">
<p>I <a href="#step-3-sketch-out-a-schematic">alluded to extra components earlier</a>, beyond simple NOT, AND, and OR gates.
This is the cool part about VHDL! We can bit-by-bit (<em>no pun intended</em> ü§°) build up a bigger circuit from smaller
component circuits.</p>

<p>Let‚Äôs look at another example where we use something we already made (the <code class="highlighter-rouge">and4</code>) and focus on the architecture body starting at <code class="highlighter-rouge">line 14</code>.</p>

<figure class="highlight"><pre><code class="language-vhdl" data-lang="vhdl"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="code"><pre><span class="k">ENTITY</span> <span class="n">and4</span> <span class="k">IS</span>
    <span class="k">PORT</span> <span class="p">(</span> <span class="n">in1</span><span class="p">,</span> <span class="n">in2</span><span class="p">,</span> <span class="n">in3</span><span class="p">,</span> <span class="n">in4</span> <span class="p">:</span> <span class="k">IN</span> <span class="kt">BIT</span><span class="p">;</span>
           <span class="n">out1</span> <span class="p">:</span> <span class="k">OUT</span> <span class="kt">BIT</span><span class="p">);</span>
<span class="k">END</span> <span class="n">and4</span><span class="p">;</span>

<span class="k">ARCHITECTURE</span> <span class="n">df</span> <span class="k">OF</span> <span class="n">and4</span> <span class="k">IS</span>
<span class="k">BEGIN</span>
    <span class="n">out1</span> <span class="o">&lt;=</span> <span class="n">in1</span> <span class="ow">and</span> <span class="n">in2</span> <span class="ow">and</span> <span class="n">in3</span> <span class="ow">and</span> <span class="n">in4</span><span class="p">;</span>
<span class="k">END</span> <span class="n">df</span><span class="p">;</span>

<span class="c1">-- ... some time later...</span>
<span class="c1">-- ... a different ENTITY declaration for something_else...</span>
<span class="c1">-- ...</span>
<span class="c1">-- ... and its architecture</span>
<span class="k">ARCHITECTURE</span> <span class="n">struct</span> <span class="k">OF</span> <span class="n">something_else</span> <span class="k">IS</span>
    <span class="k">SIGNAL</span> <span class="n">sig0</span><span class="p">,</span> <span class="n">sig1</span><span class="p">,</span> <span class="n">sig2</span><span class="p">,</span> <span class="n">sig3</span><span class="p">,</span> <span class="n">sig4</span> <span class="p">:</span> <span class="kt">BIT</span><span class="p">;</span>
    
    <span class="k">COMPONENT</span> <span class="n">and4_gate</span> <span class="k">IS</span>
        <span class="k">PORT</span> <span class="p">(</span> <span class="n">in1</span><span class="p">,</span> <span class="n">in2</span><span class="p">,</span> <span class="n">in3</span><span class="p">,</span> <span class="n">in4</span> <span class="p">:</span> <span class="k">IN</span> <span class="kt">BIT</span><span class="p">;</span>
               <span class="n">out1</span> <span class="p">:</span> <span class="k">OUT</span> <span class="kt">BIT</span><span class="p">);</span>
    <span class="k">END</span> <span class="k">COMPONENT</span><span class="p">;</span>
<span class="k">BEGIN</span>
    <span class="c1">-- ...</span>
    <span class="n">a_name_for_this_part_of_my_schematic</span><span class="p">:</span> <span class="n">and4</span> <span class="k">PORT</span> <span class="k">MAP</span> <span class="p">(</span><span class="n">sig0</span><span class="p">,</span> <span class="n">sig1</span><span class="p">,</span> <span class="n">sig2</span><span class="p">,</span> <span class="n">sig3</span><span class="p">,</span> <span class="n">sig4</span><span class="p">);</span>
    <span class="c1">-- ...</span>
<span class="k">END</span> <span class="n">struct</span><span class="p">;</span>
<span class="c1">-- ...</span></pre></td></tr></tbody></table></code></pre></figure>

<div class="alert alert-info" role="alert">
  <i class="fa fa-info-circle"></i> <b>Note:</b> 
<em>‚ÄúHeeey, the inputs are 1-based and before they were 0-based. AND you‚Äôre mixing 0-based and 1-based in the same code! Why would you do that?‚Äù</em>
Mostly just to get you used to seeing both, but also to see if you‚Äôre paying attention.

</div>

<p>We can see that we declare the extra signals we plan on using.
We mentioned earlier that we need to do this so we can use their names later on. <br />
That‚Äôs simple enough. After that we have <em>component declaration</em>.</p>

<p>Okay, what‚Äôs that about?</p>

<p>Well, we need to declare the existence of any extra wires, and also declare the existence of any extra <em>modules</em>.
We have to declare the existence of our custom 4-input AND gate in <code class="highlighter-rouge">line 18</code>.
The component declaration looks very similar to our <code class="highlighter-rouge">ENTITY</code> declaration on <code class="highlighter-rouge">line 1</code>.
In fact, VHDL has to match the component declaration <strong>exactly</strong> to a corresponding entity, for us to combine modules together.
Otherwise, when we go to use it in <code class="highlighter-rouge">line 24</code>, VHDL will crash and say, ‚Äúhow in tarnation am I supposed to use something that doesn‚Äôt exist?‚Äù.
Each module exists in its own little world, and we have to manually tell VHDL that each of those other little worlds exist
when we want to use them together.</p>

<p><em>Whew</em>.<br />
This is a long section, I know, I know, hush child! There‚Äôs another picture coming soon and we‚Äôre almost done.</p>

<p>So speaking of <code class="highlighter-rouge">line 24</code>, what the devil is going on there?
Besides assigning signals with operations like <code class="highlighter-rouge">output &lt;= my_signal</code>, or <code class="highlighter-rouge">another_signal &lt;= s0 nand s1</code>,
we can also assign signals by using other modules we‚Äôve built!
And like we went over earlier, between the <code class="highlighter-rouge">BEGIN</code> and <code class="highlighter-rouge">END</code> of the architecture body is where all these
assignments happen.</p>

<p>We already know how to do basic assignment and use basic operators, so I‚Äôm gonna skip on ahead to‚Ä¶</p>

<h5 id="port-maps">Port Maps</h5>

<p>Port mapping is, quite simply, mapping <em>signals</em> to <em>ports</em> of other <em>instances</em>.
In <code class="highlighter-rouge">line 24</code>, I decided to use the <code class="highlighter-rouge">and4</code> we made earlier to connect up some signals in my circuit.</p>
<ul>
  <li>First, we give a name to that particular <code class="highlighter-rouge">and4</code> instance (<code class="highlighter-rouge">a_name_for_this_part_of_my_schematic</code>).
Each <code class="highlighter-rouge">and4</code> I create here is called making a new <em>instance</em>, compared to just <em>declaring</em> it as a component.
Everything in our circuit needs a name unless it‚Äôs a basic <a href="http://www.brunel.ac.uk/~eestmba/hdl/opervhdl.html">NOT, AND, OR, NOR, et al</a> gate.</li>
  <li>Then, we specify that we‚Äôre using an <code class="highlighter-rouge">and4</code>.</li>
  <li>Last, we specify how to connect our signals to the component.</li>
</ul>

<p>We need to name them uniquely because we might have multiple <code class="highlighter-rouge">and4</code>‚Äôs, and then how do we refer to them?
Here‚Äôs a pretty silly circuit:</p>

<p><img src="/img/posts/silly_circuit.png" alt="a silly_circuit" width="100%" /></p>

<p>I spared you the horror of seeing all the wire criss-crossings.
The inputs are all going to each of the <code class="highlighter-rouge">and4</code> units.
Here‚Äôs the module:</p>

<figure class="highlight"><pre><code class="language-vhdl" data-lang="vhdl"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
</pre></td><td class="code"><pre><span class="k">ENTITY</span> <span class="n">silly_circuit</span> <span class="k">IS</span>
    <span class="k">PORT</span> <span class="p">(</span> <span class="n">in1</span><span class="p">,</span> <span class="n">in2</span><span class="p">,</span> <span class="n">in3</span><span class="p">,</span> <span class="n">in4</span> <span class="p">:</span> <span class="k">IN</span> <span class="kt">BIT</span><span class="p">;</span>
           <span class="n">out1</span> <span class="p">:</span> <span class="k">OUT</span> <span class="kt">BIT</span><span class="p">);</span>
<span class="k">END</span> <span class="n">silly_circuit</span><span class="p">;</span>

<span class="k">ARCHITECTURE</span> <span class="n">struct</span> <span class="k">OF</span> <span class="n">something_else</span> <span class="k">IS</span>
    <span class="k">SIGNAL</span> <span class="n">s0</span><span class="p">,</span> <span class="n">s1</span><span class="p">,</span> <span class="n">s2</span> <span class="p">:</span> <span class="kt">BIT</span><span class="p">;</span>

    <span class="k">COMPONENT</span> <span class="n">and4_gate</span> <span class="k">IS</span>
        <span class="k">PORT</span> <span class="p">(</span> <span class="n">in1</span><span class="p">,</span> <span class="n">in2</span><span class="p">,</span> <span class="n">in3</span><span class="p">,</span> <span class="n">in4</span> <span class="p">:</span> <span class="k">IN</span> <span class="kt">BIT</span><span class="p">;</span>
               <span class="n">out1</span> <span class="p">:</span> <span class="k">OUT</span> <span class="kt">BIT</span><span class="p">);</span>
    <span class="k">END</span> <span class="k">COMPONENT</span><span class="p">;</span>

    <span class="k">COMPONENT</span> <span class="n">and3_gate</span> <span class="k">IS</span>
        <span class="k">PORT</span> <span class="p">(</span> <span class="n">in1</span><span class="p">,</span> <span class="n">in2</span><span class="p">,</span> <span class="n">in3</span> <span class="p">:</span> <span class="k">IN</span> <span class="kt">BIT</span><span class="p">;</span>
               <span class="n">out1</span> <span class="p">:</span> <span class="k">OUT</span> <span class="kt">BIT</span><span class="p">);</span>
    <span class="k">END</span> <span class="k">COMPONENT</span><span class="p">;</span>
<span class="k">BEGIN</span>
    <span class="c1">-- maps by position:</span>
    <span class="c1">-- maps in1 to the first port of the and4,</span>
    <span class="c1">--      in2 to the second port of the and4,</span>
    <span class="c1">--      etc, sig0 to the last port of the and4</span>
    <span class="n">a4_1</span><span class="p">:</span> <span class="n">and4</span> <span class="k">PORT</span> <span class="k">MAP</span> <span class="p">(</span><span class="n">in1</span><span class="p">,</span> <span class="n">in2</span><span class="p">,</span> <span class="n">in3</span><span class="p">,</span> <span class="n">in4</span><span class="p">,</span> <span class="n">sig0</span><span class="p">);</span> 

    <span class="c1">-- maps by position:</span>
    <span class="c1">-- maps in2 to the first port of the and4,</span>
    <span class="c1">--      in3 to the second port of the and4,</span>
    <span class="c1">--      etc</span>
    <span class="n">a4_2</span><span class="p">:</span> <span class="n">and4</span> <span class="k">PORT</span> <span class="k">MAP</span> <span class="p">(</span><span class="n">in2</span><span class="p">,</span> <span class="n">in3</span><span class="p">,</span> <span class="n">in4</span><span class="p">,</span> <span class="n">in1</span><span class="p">,</span> <span class="n">sig1</span><span class="p">);</span>

    <span class="c1">-- maps by named value (as PORT MAP ( to port =&gt; from signal, to port =&gt; from signal, ...)</span>
    <span class="c1">-- maps in2 to and4::in2,</span>
    <span class="c1">--      in3 to and4::in3,</span>
    <span class="c1">--      in4 to and4::in1, etc,</span>
    <span class="n">a4_3</span><span class="p">:</span> <span class="n">and4</span> <span class="k">PORT</span> <span class="k">MAP</span> <span class="p">(</span><span class="n">in2</span> <span class="o">=&gt;</span> <span class="n">in2</span><span class="p">,</span> <span class="n">in3</span> <span class="o">=&gt;</span> <span class="n">in3</span><span class="p">,</span> <span class="n">in1</span> <span class="o">=&gt;</span> <span class="n">in4</span><span class="p">,</span> <span class="n">in4</span> <span class="o">=&gt;</span> <span class="n">in1</span><span class="p">,</span> <span class="n">out1</span> <span class="o">=&gt;</span> <span class="n">sig2</span><span class="p">);</span>

    <span class="c1">-- maps by named value</span>
    <span class="c1">-- maps sig0 to and3::in1,</span>
    <span class="c1">--      sig2 to and3::in2,</span>
    <span class="c1">--      sig1 to and3::in3,</span>
    <span class="c1">--      out1 to and3::out1</span>
    <span class="n">a3_1</span><span class="p">:</span> <span class="n">and4</span> <span class="k">PORT</span> <span class="k">MAP</span> <span class="p">(</span><span class="n">in1</span> <span class="o">=&gt;</span> <span class="n">sig0</span><span class="p">,</span> <span class="n">in3</span> <span class="o">=&gt;</span> <span class="n">sig1</span><span class="p">,</span> <span class="n">in2</span> <span class="o">=&gt;</span> <span class="n">sig2</span><span class="p">,</span> <span class="n">out1</span> <span class="o">=&gt;</span> <span class="n">out1</span><span class="p">);</span>
<span class="k">END</span> <span class="n">struct</span><span class="p">;</span></pre></td></tr></tbody></table></code></pre></figure>

<p>The last takeaways of this code is:</p>
<ul>
  <li>We <strong>named</strong> the <code class="highlighter-rouge">and4</code>‚Äôs and the <code class="highlighter-rouge">and3</code> in our <code class="highlighter-rouge">silly_circuit</code>, just like we had to name
the signals, because they aren‚Äôt basic gates.</li>
  <li>The architecture is named <code class="highlighter-rouge">struct</code> for structural style, which involves (structurally) building
up logic with smaller components, as we are doing here.</li>
  <li>A common confusion is how the names don‚Äôt clash here.
You might see all the <code class="highlighter-rouge">in1</code>‚Äôs and such and wonder which <code class="highlighter-rouge">inN</code> is referring to what?
Well earlier I mentioned that each module exists in its own little world.
The names exist in their own little world, too (called <em>scope</em>).
When we‚Äôre in our architecture body, we‚Äôre in our <code class="highlighter-rouge">silly_circuit</code> world, so the <code class="highlighter-rouge">in1</code>
refers only to the actual input, as expected.
Remember, the only reason we have the <code class="highlighter-rouge">COMPONENT</code> declaration is so that VHDL knows to go out
and find that module somewhere.
The names in the component declaration are only for matching against the original module.</li>
  <li>There‚Äôs two different way to map signals to our instances.
    <ol>
      <li>The first way is <em>positional</em>.
Each signal just maps directly to the first, second, third, etc port on the component.
Obviously if we had more signals listed than ports, we‚Äôd get an error.</li>
      <li>The second is way is by naming which port is getting mapped to.
This is generally clearer, but more verbose, and it won‚Äôt matter what order you put the signals in the list.</li>
    </ol>
  </li>
  <li>If we were to mismatch the direction of the port mappings, and map our input to a component‚Äôs output,
VHDL would give us an error. BUT, if we mismatched ports with the same type and direction, we‚Äôd just get
really wonky behavior from our circuit‚Ä¶or not! So double check your ports!</li>
</ul>

</div>
  </div>
</div>

<p>And that‚Äôs it! 
This isn‚Äôt an exhaustive explanation of building circuits in VHDL.
In the coming weeks, we‚Äôll learn how to compose simple circuits to build more complex circuits that can do math like <script type="math/tex">(4+5)</script>
or handle logic like checking if a thirsty soda-lover entered enough money into a soda machine.</p>

<hr />

<h1 id="where-is-vhdl">Where is VHDL?</h1>

<p>VHDL is the language we use to describe the circuit.
We need another piece of software to actually simulate that circuit and observe its functionality.
In this class, we‚Äôll use ModelSim both for coding and simulating.
If you want to use ModelSim at home, you can download a version from the <a href="https://www.mentor.com/company/higher_ed/modelsim-student-edition">ModelSim website</a>.</p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:1">

      <p>The introductory digital design and VHDL class I‚Äôve had to TA (<a href="http://catalog.drexel.edu/coursedescriptions/quarter/undergrad/ece/">ECE-200</a>) attracts students
with a wide variety of backgrounds.
While some students learn just fine with the provided tutorials and labs,
others can be turned off by them.
Even then, students tend to miss some fundamental concepts when going through the
motions of the labs.
As such, I‚Äôve decided to provide a quickstart guide with a slightly different flavor.
<a href="https://www.seas.upenn.edu/~ese171/vhdl/vhdl_primer.html">Other primers</a> exist, but I wanted to make something
a bit friendlier.
This is <strong>not</strong> meant to be a full reference.
I‚Äôm very loose with my language throughout this document because of the target audience.
If you need to know something specific please <a href="https://duckduckgo.com/?q=vhdl+reference">find</a> a more <a href="https://ieeexplore.ieee.org/document/4772740/">complete reference</a>.¬†<a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>


      <hr>

      <div class="clearfix">

        
        

      </div>

    </div>
  </div>
</div>


    <!-- Footer -->

<hr>

<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <ul class="list-inline text-center">
          
          
          
          <li class="list-inline-item">
            <a href="https://github.com/mikelui">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
            
            <li class="list-inline-item">
              <a href="https://linkedin.com/in/mikelui">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
              </span>
              </a>
            </li>
            
            
            <li class="list-inline-item">
              <a href="mailto:mikelui@drexel.edu">
                <span class="fa-stack fa-lg">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
                                
            
            <li class="list-inline-item">
              <a href="http://vlsi.ece.drexel.edu/index.php?title=Michael_Lui">
                <span class="fa-stack fa-lg">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-flask fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
                                
        </ul>
        <p class="copyright text-muted">Copyright &copy; Mike Lui 2018</p>
      </div>
    </div>
  </div>
</footer>


    <script src="/assets/vendor/jquery/jquery.min.js"></script>
<script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/assets/vendor/startbootstrap-clean-blog/js/clean-blog.min.js"></script>
<script src="/assets/js/scripts.js"></script>




  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js"></script>
  <script type="application/javascript">
    anchors.options.placement = 'left'
    anchors.options.visible = 'touch'
    anchors.add('h1, h2').remove('header h1, header h2, .post-preview h1, .post-preview h2')
  </script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
                         "HTML-CSS": { linebreaks: { automatic: true } },
                         SVG: { linebreaks: { automatic: true } },
                         TeX: { equationNumbers: { autoNumber: "AMS" } }
    });
  </script>



  </body>

</html>
